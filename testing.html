<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Testing</title>
  <script crossorigin="anonymous" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://openseadragon.github.io/openseadragon/openseadragon.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/usnistgov/OpenSeadragonFiltering/openseadragon-filtering.js"></script>
  <script src="src/ImageViewer.js"></script>
  <script src="src/MultiViewer.js"></script>
  <script src="src/roiAlchemy.js"></script>
</head>

<body>
<div id="contentDiv" style="width: 640px; height: 480px;"></div>
<script>
  const images = ['//openseadragon.github.io/example-images/duomo/duomo.dzi']

  function alchemy(images) {
    roiAlchemy('contentDiv', images[0], ['temporary'], 2, 2, 500, 300)
  }
  alchemy(images)

  function testImageViewer(images) {
    let imageViewer = new ImageViewer('contentDiv', images, [1.0])
  }
  // testImageViewer(images)

  function testMultiViewer(images) {
    let multiViewer = new MultiViewer('contentDiv', ['//openseadragon.github.io/example-images/duomo/duomo.dzi'], [1.0])
  }
  // testMultiViewer(images)

  function fit_to_viewport(image) {

    let viewer = OpenSeadragon({
      id: 'contentDiv',
      tileSources: image,
      prefixUrl: 'vendor/openseadragon/images/',
      crossOriginPolicy: 'Anonymous'
    })

    viewer.addHandler('open', function () {
      let rect = new OpenSeadragon.Rect(0.2, 0.2, 0.2, 0.2)
      let elt = document.createElement("div")
      elt.id = "runtime-overlay"
      elt.className = "highlight"
      viewer.addOverlay({
        element: elt,
        location: rect
      })
      setTimeout(function () {
        viewer.viewport.fitBounds(rect)
      }, 1000)
    })

  }
  // fit_to_viewport(images[0])

  </script>
</body>

</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>THREE.js</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #002347;
    }

    /* #container {
      position: absolute;
    } */

    canvas {
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>

<!-- <canvas id="container"></canvas> -->

<script src="https://threejs.org/build/three.js"></script>

<script>
  let geometry;
  let material;
  let renderer;
  const count = 1000;

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
  renderer = new THREE.WebGLRenderer();

  // renderer = new THREE.WebGLRenderer({
  //   canvas: document.querySelector("#container"),
  //   antialias: true,
  //   alpha: true,
  // });

  renderer.setPixelRatio(window.devicePixelRatio);
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement); // without container

  function randomPosition() {
    return Array(3).fill().map(() => THREE.MathUtils.randFloatSpread(100));
  }

  function addCube() {
    // geometry = new THREE.BoxGeometry(1, 1, 1);
    geometry = new THREE.BoxGeometry(.05, .05, 1);
    material = new THREE.MeshBasicMaterial({color: 0x00ff00});
    let cube = new THREE.Mesh(geometry, material);

    let [x, y, z] = randomPosition();
    cube.position.set(x, y, z);

    scene.add(cube);
  }

  // addCube();
  Array(count).fill().forEach(addCube);

  function addStar() {
    geometry = new THREE.SphereGeometry(0.25, 24, 24);
    material = new THREE.MeshStandardMaterial({color: 0xffffff});
    let star = new THREE.Mesh(geometry, material);
    let [x, y, z] = randomPosition();
    star.position.set(x, y, z);
    scene.add(star);
  }

  // Array(count).fill().forEach(addStar);

  function addParticles() {
    let particle = new THREE.Object3D();
    scene.add(particle);

    let geometry = new THREE.TetrahedronGeometry(2, 0);
    let material = new THREE.MeshNormalMaterial();

    for (let i = 0; i < count; i++) {
      let mesh = new THREE.Mesh(geometry, material);
      mesh.position.set(Math.random() - 0.5, Math.random() - 0.5, Math.random() - 0.5).normalize();
      mesh.position.multiplyScalar(90 + Math.random() * 700);
      mesh.rotation.set(Math.random() * 2, Math.random() * 2, Math.random() * 2);
      particle.add(mesh);
    }

  }

  // addParticles();

  camera.position.z = 5;

  function animate() {
    requestAnimationFrame(animate);
    renderer.render(scene, camera);
  }

  animate();
</script>
</body>
</html>
